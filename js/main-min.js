new Vue({el:"#app",data:{chart:null,tickers:[],ticker:{},columns:[],data:{}},created:function(){this.loadTickers()},methods:{initChart:function(){this.chart=anychart.stock(),this.chart.container("chart_container").draw()},loadTickers:function(){let t=this;fetch("http://3.125.122.3:5000/api/get_tickers").then(t=>t.json()).then(a=>{t.tickers=a,t.loadTicker(t.tickers[0])})},loadTicker:function(t){let a=this;a.ticker=t,fetch(`http://3.125.122.3:5000/api/get_data/${t.ticker}/1_day/${t.start_date}/${t.end_date}`).then(t=>t.json()).then(t=>{a.data=anychart.data.table("date"),a.data.addData(t.data),a.columns=[];for(const e in t.data[0])"ticker"!=e&&"timeframe"!=e&&"date"!=e&&a.columns.push(e);a.drawCharts()})},drawCharts:function(){this.initChart(),this.drawCandlestick();for(var t=0;t<3;t++)this.drawLinechart()},drawCandlestick:function(){var t=this.data.mapAs({open:"first_price",high:"max_price",low:"min_price",close:"last_price"});this.chart.plot(0).candlestick(t).name(this.ticker.ticker)},drawLinechart:function(){let t=this.chart.getPlotsCount();for(let i=0;i<this.columns.length;i++){let c=this.columns[i];var a=this.data.mapAs({value:c}),e=this.chart.plot(t).line(a);e.enabled(!1),e.name(c)}}}});